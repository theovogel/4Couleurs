(function(e){e.fn.credits=function(t){var n={url:"humans.txt",idSelector:"",music:"",img:"",imgDirectory:"img/controls.png",fullScreen:false,showText:false,speed:"normal",fixe:false,showScrollBar:false,ctrlPosition:"left",callback:null};n=e.extend(n,t);e.fn.enterFullscreen=function(){if(this[0].requestFullScreen){this[0].requestFullScreen()}else if(this[0].webkitRequestFullScreen){this[0].webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else if(this[0].mozRequestFullScreen){this[0].mozRequestFullScreen()}return this};this.each(function(){e(this).click(function(t){function f(t){if(u){t=t.replace(/\n/g,"<br/>");e("#credits").append(t)}if(n.fixe){e("#credits").css("padding-top","5%")}else{var r=e("#credits").height();if(n.showText){r=r/2}e("#credits").css({bottom:"-"+r+"px"});var s=1e4+r*10;switch(n.speed){case"slow":s=s*3;break;case"normal":s;break;case"fast":s=s*.4;break;default:s;break}e("#credits").animate({bottom:i+"px"},s,"linear",l)}if(n.music!=""){var o=n.music.replace(/\.mp3|\.ogg/i,"");e(".controls").append('<audio id="audioPlayer" autoplay><source src="'+o+'.mp3"></source><source src="'+o+'.ogg"></source></audio><div id="mute" style="width: 64px; height: 64px; background: url('+n.imgDirectory+') -192px 0 repeat;"></div>');var a=document.getElementById("audioPlayer");e("#mute").click(function(){if(a.volume>0){a.volume=0;e("#mute").css({backgroundPosition:"-256px 0"})}else{a.volume=1;e("#mute").css({backgroundPosition:"-192px 0"})}})}e("#stop, #mute").on("mouseover",function(){e(this).css({outline:"1px inset white"})});e("#stop, #mute").on("mouseout",function(){e(this).css({outline:"none"})});e("#stop").click(function(){l()})}function l(){e("#audioPlayer").remove();e("#backInBlack").animate({opacity:0},{complete:function(){e(this).remove();if(n.showScrollBar){e("body").css("overflow",r)}}})}t.preventDefault();if(n.showScrollBar){var r=e("body").css("overflow");e("body").css("overflow","hidden")}if(n.fullScreen){var i=screen.height}else{var i=e(window).height()}if(e("#backInBlack").length==0){if(n.img!=""){var s="background: black url('"+n.img+"') no-repeat center center; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;"}else{var s=" background-color: black;"}var o=e('<div id="backInBlack" style="display: block; position: fixed; opacity:0; top: 0; left: 0; width: 100%; height: 100%; '+s+' text-align: center; z-index: 2000; overflow: hidden;"><div class="controls" style="position: fixed; '+n.ctrlPosition+': 0; top: 0; cursor: pointer; z-index: 10;"><div style="width: 64px; height: 64px; background: url('+n.imgDirectory+') 0 0 repeat;" id="stop"></div></div></div>').appendTo("body");if(n.fullScreen){o.enterFullscreen()}o.animate({opacity:1})}e("#backInBlack #credits").empty();e("#backInBlack").append('<div id="credits" style="position: fixed; width: 100%; margin: auto;"></div>');var u;if(/\.txt/i.test(n.url)){u=true;e.get(n.url,f)}else{if(n.idSelector!=""){var a=" "+n.idSelector}else{var a=""}e("#credits").load(n.url+a,f)}if(n.callback){n.callback()}return this})})}})(window.Zepto||window.jQuery)